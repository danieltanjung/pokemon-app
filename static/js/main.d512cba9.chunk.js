(this.webpackJsonppokemon=this.webpackJsonppokemon||[]).push([[0],{40:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(22),o=n.n(i),s=(n(58),n(11)),r=(n(59),n(60),n(52)),l=n(43),j=n(2);function d(e){var t=e.startApp;return Object(j.jsxs)(l.a,{fluid:!0,id:"start-screen",children:[Object(j.jsx)("h1",{id:"title",children:"PoK\xe9MoN"}),Object(j.jsx)("h2",{id:"subtitle",children:"Catch & Collect Them All!"}),Object(j.jsxs)(r.a,{id:"play-button",onClick:t,children:["Play Now ",Object(j.jsx)("i",{className:"fa fa-play"})]})]})}n(62);var b=n(85),u=(n(63),n(90)),m=n(44),O="archive";function h(e){return e.charAt(0).toUpperCase()+e.slice(1)}function x(e,t){localStorage.setItem(e,JSON.stringify(t))}function p(e){var t=e.pokemon,n=e.onClick,a=t.hasOwnProperty("nickname")?t.nickname:t.name;return Object(j.jsxs)(u.a,{className:"pokemon-card",onClick:function(){return n(t)},children:[Object(j.jsx)(m.a,{className:"pokemon-card__image",variant:"top",src:t.image,alt:a+"'s image",loading:"lazy"}),Object(j.jsx)(u.a.Body,{children:Object(j.jsx)(u.a.Title,{className:"pokemon-card__name",children:h(a)})})]})}var f=n(31),g=(n(64),n(40),n(41)),v=n.n(g),k=n(82),y=n(83),C=n(46),N=n(88),S=n(53),w=n(84),_=(n(65),n(81));function T(e){var t=e.animation,n=void 0===t?"border":t,a=e.variant,c=void 0===a?"light":a;return Object(j.jsxs)("div",{id:"loading-container",children:[Object(j.jsx)(_.a,{className:"spinner",animation:n,variant:c}),Object(j.jsx)("span",{children:"Loading"})]})}var P=n(51),A=(n(66),n(86)),B=n(87),F=n(89),I=c.a.createContext([]),D=c.a.createContext((function(e){console.log(e)}));function E(){return Object(a.useContext)(I)}function L(){return Object(a.useContext)(D)}function $(e){var t=e.children,n=Object(a.useState)([]),c=Object(s.a)(n,2),i=c[0],o=c[1];return Object(a.useEffect)((function(){var e,t=(e=O,JSON.parse(localStorage.getItem(e)));t?o(t):(o([]),x(O,[]))}),[]),Object(j.jsx)(I.Provider,{value:i,children:Object(j.jsx)(D.Provider,{value:function(e){return o(e)},children:t})})}function q(e){var t=e.pokemon,n=e.onClose,c=e.onComplete,i=Object(a.useState)(!0),o=Object(s.a)(i,2),l=o[0],d=o[1],b=Object(a.useState)(!1),u=Object(s.a)(b,2),m=u[0],h=u[1],p=Object(a.useState)(""),f=Object(s.a)(p,2),g=f[0],v=f[1],k=Object(a.useState)(!1),y=Object(s.a)(k,2),C=y[0],N=y[1],S=E(),w=L(),_=Object(a.useRef)(null);function T(){d(!1),n()}return Object(j.jsxs)(A.a,{show:l,className:"mx-auto",onHide:T,backdrop:"static",keyboard:!1,centered:!0,children:[Object(j.jsx)(A.a.Header,{closeButton:!0,children:Object(j.jsx)(A.a.Title,{children:"Gotcha!"})}),Object(j.jsx)(A.a.Body,{className:C?"flash-red":"",onAnimationEnd:function(){N(!1)},children:Object(j.jsxs)(B.a,{noValidate:!0,validated:m,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),g.length>=4&&g.length<=12?(h(!0),function(e){var n={uuid:Object(F.a)(),nickname:e,id:t.id,name:t.name,image:t.image},a=[].concat(Object(P.a)(S),[n]);w(a),x(O,a),console.log("Saved!")}(g),T(),c()):(_.current.focus(),N(!0))},children:[Object(j.jsxs)(B.a.Group,{controlId:"formPokemonName",children:[Object(j.jsx)(B.a.Label,{children:"Give your new pokemon a name"}),Object(j.jsx)(B.a.Control,{ref:_,type:"text",placeholder:"Input pokemon's name",required:!0,value:g,onChange:function(e){v(e.target.value),h(!1)},isInvalid:g.length<4||g.length>12}),Object(j.jsx)(B.a.Control.Feedback,{type:"invalid",children:"Pokemon's name must be 4-12 characters long."})]}),Object(j.jsxs)("div",{id:"modal__buttons",children:[Object(j.jsx)(r.a,{variant:"danger",onClick:T,children:"Let it go..."}),Object(j.jsx)(r.a,{variant:"primary",type:"submit",children:"Save"})]})]})}),Object(j.jsx)(A.a.Footer,{children:Object(j.jsx)("p",{children:"The pokemon you catch will be moved to your inventory"})})]})}n(70);function H(e){var t=e.pokemon,n=e.onClose,c=e.onComplete,i=Object(a.useState)(!0),o=Object(s.a)(i,2),l=o[0],d=o[1],b=E(),u=L();function m(){d(!1),n()}return Object(j.jsxs)(A.a,{className:"mx-auto my-auto",show:l,onHide:m,backdrop:"static",keyboard:!1,centered:!0,children:[Object(j.jsx)(A.a.Header,{closeButton:!0,children:Object(j.jsx)(A.a.Title,{children:"Warning!"})}),Object(j.jsxs)(A.a.Body,{children:[Object(j.jsx)("p",{children:"Are you sure you want to delete this pokemon from the archive?"}),Object(j.jsx)("p",{style:{color:"red"},children:"IMPORTANT: You can not undo this action."})]}),Object(j.jsxs)(A.a.Footer,{children:[Object(j.jsx)(r.a,{variant:"primary",onClick:m,children:"Cancel"}),Object(j.jsx)(r.a,{variant:"danger",onClick:function(e){e.preventDefault(),e.stopPropagation(),function(){var e=b.filter((function(e){return e.uuid!==t.uuid}));u(e),x(O,e),console.log("Deleted!")}(),m(),c()},children:"Delete"})]})]})}var G;n(71);function J(e){var t=e.error;return Object(j.jsxs)(l.a,{fluid:!0,id:"error-container",children:[Object(j.jsx)("h1",{children:"Error!"}),Object(j.jsx)("p",{children:"Something's wrong..."}),Object(j.jsx)("code",{children:t})]})}var M=v()(G||(G=Object(f.a)(["\n  query pokemon($species: String!) {\n    pokemon(name: $species) {\n      id\n      name\n      weight\n      height\n      types {\n        type {\n          name\n        }\n      }\n      stats {\n        base_stat\n        effort\n        stat {\n          name\n        }\n      }\n      abilities {\n        ability {\n          name\n        }\n      }\n    }\n  }\n"])));function R(e){var t=e.pokemon,n=e.closeDetails,c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(a.useState)(!1),b=Object(s.a)(d,2),O=b[0],x=b[1],p=Object(a.useState)(!1),f=Object(s.a)(p,2),g=f[0],v=f[1],_=Object(a.useState)(!1),P=Object(s.a)(_,2),A=P[0],B=P[1],F=t.hasOwnProperty("nickname"),I=Object(k.a)(M,{variables:{species:t.name}}),D=I.loading,E=I.error,L=I.data;if(D)return Object(j.jsx)(T,{animation:"grow",variant:"light"});if(E)return Object(j.jsx)(J,{error:E});var $=L.pokemon;return Object(j.jsxs)(u.a,{id:"pokemon",className:A?"flash-red":"",onAnimationEnd:function(){B(!1)},children:[Object(j.jsx)(m.a,{id:"pokemon__image",src:t.image,alt:$.name+"'s image"}),F&&Object(j.jsx)(u.a.Title,{id:"pokemon__nickname",className:"mx-auto",children:t.nickname}),Object(j.jsx)(r.a,{id:"close-button",variant:"link",onClick:n,children:Object(j.jsx)("i",{className:"fa fa-times"})}),Object(j.jsxs)(u.a,{id:"pokemon__info",children:[Object(j.jsx)(u.a.Title,{id:"pokemon__info__name",children:h($.name)}),Object(j.jsxs)(y.a,{children:[Object(j.jsx)(C.a,{md:4,xs:12,className:"info-name",children:"Type(s)"}),Object(j.jsx)(C.a,{className:"info-value",children:$.types.map((function(e){return Object(j.jsx)("span",{className:"pokemon-type",children:h(e.type.name)},e.type.name)}))})]},"pokemon-types"),Object(j.jsxs)(y.a,{children:[Object(j.jsx)(C.a,{md:4,xs:12,className:"info-name",children:"Weight"}),Object(j.jsx)(C.a,{className:"info-value",children:$.weight})]},"pokemon-weight"),Object(j.jsxs)(y.a,{children:[Object(j.jsx)(C.a,{md:4,xs:12,className:"info-name",children:"Height"}),Object(j.jsx)(C.a,{className:"info-value",children:$.height})]},"pokemon-height")]}),Object(j.jsxs)(u.a.Body,{id:"pokemon__details",children:[Object(j.jsx)(u.a.Subtitle,{className:"subtitle",children:"Stats"}),$.stats.map((function(e){return Object(j.jsxs)(y.a,{children:[Object(j.jsx)(C.a,{md:8,xs:6,className:"stat-names",children:h(e.stat.name)}),Object(j.jsx)(C.a,{className:"stat-values",children:e.base_stat})]},e.stat.name)})),Object(j.jsx)(u.a.Subtitle,{className:"subtitle",children:"Abilities"}),Object(j.jsx)(N.a,{children:$.abilities.map((function(e){return Object(j.jsx)(S.a,{children:h(e.ability.name)},e.ability.name)}))})]}),Object(j.jsxs)("div",{id:"footer",children:[!F&&o&&!O&&Object(j.jsxs)("div",{id:"catch-label",children:[Object(j.jsx)("p",{children:"Failed to catch the pokemon."}),Object(j.jsx)("p",{children:" Try again?"})]}),!F&&Object(j.jsxs)(r.a,{id:"catch-button",variant:"primary",onClick:function(){l(!0),Math.random()>.5?(x(!0),l(!1)):(x(!1),B(!0))},children:[Object(j.jsx)(w.a,{id:"catch-button__image",src:"favicon.ico",alt:"Catch "+$.name+"!"})," ",Object(j.jsx)("strong",{children:"Catch It!"})]}),F&&Object(j.jsx)(r.a,{id:"delete-button",variant:"danger",onClick:function(){v(!0)},children:"Delete Pokemon"})]}),O&&Object(j.jsx)(q,{pokemon:t,onClose:function(){return x(!1)},onComplete:n}),g&&Object(j.jsx)(H,{pokemon:t,onClose:function(){return v(!1)},onComplete:n})]})}var z;n(75);function W(e){var t=e.id;return Object(j.jsx)(r.a,{id:t,variant:"secondary",onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},children:Object(j.jsx)("i",{className:"fa fa-angle-up"})})}var Y=c.a.createContext([]),K=c.a.createContext([]),U=v()(z||(z=Object(f.a)(["\n  query pokemons($limit: Int, $offset: Int) {\n    pokemons(limit: $limit, offset: $offset) {\n      results {\n        id\n        name\n        image\n      }\n    }\n  }\n"])));function V(e){var t=e.children,n=Object(a.useState)([]),c=Object(s.a)(n,2),i=c[0],o=c[1],r=Object(a.useState)(!1),l=Object(s.a)(r,2),d=l[0],b=l[1],u=Object(k.a)(U,{skip:d,variables:{limit:898,offset:0}}),m=u.loading,O=u.error,h=u.data;if(!m&&!O&&h){var p=h.pokemons.results;o(p),x("pokemons",p),b(!0)}return Object(j.jsx)(Y.Provider,{value:i,children:Object(j.jsx)(K.Provider,{value:[m,O],children:t})})}function Q(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),d=o[0],u=o[1],m=Object(a.useContext)(Y),O=E(),h=Object(a.useRef)(null);function x(e){h.current=e,u(!0)}if(d)return Object(j.jsx)(l.a,{id:"pokemon-details-container",children:Object(j.jsx)(R,{pokemon:h.current,closeDetails:function(){u(!1)}})});var f=n?O:m;return Object(j.jsxs)(j.Fragment,{children:[n&&0===f.length&&Object(j.jsxs)(l.a,{id:"empty-message",className:"mx-auto",children:[Object(j.jsx)("p",{children:"You do not have a pokemon yet."}),Object(j.jsx)("p",{children:"Try to catch one in the wild."}),Object(j.jsx)("p",{children:"Good luck, trainer!"})]}),Object(j.jsxs)(l.a,{id:"pokemons-container",className:"mx-auto",children:[f.map((function(e){return Object(j.jsx)(p,{pokemon:e,onClick:x},e.id)})),Object(j.jsxs)(r.a,{id:"toggleListButton",variant:"primary",onClick:function(){c(!n)},children:[n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"fa fa-angle-left"}),"Back"]}),!n&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"fa fa-archive"}),"Archive ",Object(j.jsx)(b.a,{variant:"light",children:O.length})]})]}),Object(j.jsx)(W,{id:"goToTopButton"})]})]})}var X=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),r=o[0],l=o[1],b=Object(a.useState)(!1),u=Object(s.a)(b,2),m=u[0],O=u[1],h=Object(a.useContext)(K),x=Object(s.a)(h,2),p=x[0],f=x[1];return Object(j.jsx)(V,{children:Object(j.jsx)($,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsxs)("picture",{id:"background",children:[Object(j.jsx)("source",{srcSet:"./images/background.webp",type:"image/webp"}),Object(j.jsx)("img",{src:"./images/background.jpg",alt:"background",loading:"lazy"})]}),f&&Object(j.jsx)(J,{error:f}),n&&Object(j.jsx)(d,{startApp:function(){O(!0),setTimeout((function(){c(!1),l(!0)}),250)}}),m&&Object(j.jsx)("div",{id:"fade-animation"}),!n&&p&&Object(j.jsx)(T,{animation:"grow",variant:"light"}),!n&&f&&Object(j.jsx)("p",{style:{backgroundColor:"white"},children:"Something's wrong. Please try to refresh the page."}),!n&&r&&Object(j.jsx)(Q,{})]})})})},Z=(n(76),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))}),ee=n(16),te=new(n(29).a)({uri:"https://graphql-pokeapi.vercel.app/api/graphql"});o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(ee.a,{client:te,children:Object(j.jsx)(X,{})})}),document.getElementById("root")),Z()}},[[77,1,2]]]);
//# sourceMappingURL=main.d512cba9.chunk.js.map